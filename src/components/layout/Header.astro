---
// Shadcn-inspired Minimal Header with Zen Aesthetic
---

<header
  id="header"
  class="header-spacious fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b border-transparent"
  style="background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);"
>
  <nav class="nav-container max-w-7xl mx-auto flex items-center justify-between">
    <!-- Logo / Site Name -->
    <a
      href="#hero"
      class="logo-container text-stone-900 hover:opacity-80 transition-opacity group"
    >
      <img
        src="/logo.svg"
        alt="Kwan Um Zen logo"
        class="logo-img"
      />
      <span class="font-light text-lg lg:text-xl tracking-[0.15em] uppercase">Kwan Um</span>
    </a>

    <!-- Desktop Navigation -->
    <div class="desktop-nav">
      <a
        href="#practice-info"
        class="nav-link font-light text-stone-600 hover:text-stone-900 transition-colors relative"
      >
        Prax
      </a>
      <a
        href="#lineage"
        class="nav-link font-light text-stone-600 hover:text-stone-900 transition-colors relative"
      >
        O nás
      </a>
      <a
        href="#connect"
        class="nav-link font-light text-stone-600 hover:text-stone-900 transition-colors relative"
      >
        Kontakt
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-button"
      class="md:hidden p-3 text-stone-600 hover:text-stone-900 transition-colors"
      aria-label="Toggle menu"
    >
      <svg id="menu-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
      <svg id="close-icon" class="hidden" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </nav>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden border-t border-stone-200/50 bg-white/95 backdrop-blur-sm"
  >
    <nav class="mobile-menu-container flex flex-col gap-2">
      <a
        href="#practice-info"
        class="mobile-nav-link font-light text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-lg transition-colors"
      >
        Prax
      </a>
      <a
        href="#lineage"
        class="mobile-nav-link font-light text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-lg transition-colors"
      >
        O nás
      </a>
      <a
        href="#connect"
        class="mobile-nav-link font-light text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-lg transition-colors"
      >
        Kontakt
      </a>
    </nav>
  </div>
</header>

<!-- Enhanced Navigation Script -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const header = document.getElementById('header');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');
    const allNavLinks = document.querySelectorAll('a[href^="#"]');

    // Mobile menu toggle
    mobileMenuButton?.addEventListener('click', () => {
      const isOpen = !mobileMenu?.classList.contains('hidden');

      if (isOpen) {
        mobileMenu?.classList.add('hidden');
        menuIcon?.classList.remove('hidden');
        closeIcon?.classList.add('hidden');
      } else {
        mobileMenu?.classList.remove('hidden');
        menuIcon?.classList.add('hidden');
        closeIcon?.classList.remove('hidden');
      }
    });

    // Smooth scroll for all anchor links
    allNavLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href');
        if (!targetId || targetId === '#') return;

        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });

          // Close mobile menu after clicking
          mobileMenu?.classList.add('hidden');
          menuIcon?.classList.remove('hidden');
          closeIcon?.classList.add('hidden');
        }
      });
    });

    // Add border and shadow on scroll (shadcn style)
    let lastScroll = 0;

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;

      if (currentScroll > 50) {
        header?.classList.remove('border-transparent');
        header?.classList.add('border-stone-200/60');
        if (header) {
          header.style.boxShadow = '0 1px 2px 0 rgba(0, 0, 0, 0.03)';
        }
      } else {
        header?.classList.add('border-transparent');
        header?.classList.remove('border-stone-200/60');
        if (header) {
          header.style.boxShadow = 'none';
        }
      }

      lastScroll = currentScroll;
    });
  });
</script>

<style>
  /* Ensure smooth scrolling for the whole page */
  :global(html) {
    scroll-behavior: smooth;
  }

  /* Add offset for fixed header when scrolling to sections */
  :global(section) {
    scroll-margin-top: 70px;
  }

  /* Spacious Header Layout */
  .header-spacious {
    padding-left: 0;
    padding-right: 0;
    width: 100%;
  }

  .nav-container {
    padding: 1rem 2.5rem;
    max-width: 80rem; /* 1280px */
    margin-left: auto;
    margin-right: auto;
    width: 100%;
  }

  @media (min-width: 768px) {
    .nav-container {
      padding: 1.25rem 3rem;
    }
  }

  @media (min-width: 1024px) {
    .nav-container {
      padding: 1.25rem 4rem;
    }
  }

  @media (min-width: 1280px) {
    .nav-container {
      padding: 1.25rem 5rem;
    }
  }

  @media (min-width: 1536px) {
    .nav-container {
      max-width: 90rem; /* 1440px for very large screens */
    }
  }

  /* Logo spacing */
  .logo-container {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  @media (min-width: 768px) {
    .logo-container {
      gap: 1.25rem;
    }
  }

  .logo-img {
    height: 2.25rem;
    width: auto;
  }

  @media (min-width: 768px) {
    .logo-img {
      height: 2.5rem;
    }
  }

  @media (min-width: 1024px) {
    .logo-img {
      height: 2.75rem;
    }
  }

  /* Nav links spacing */
  .desktop-nav {
    display: none;
    align-items: center;
    gap: 0.75rem;
  }

  @media (min-width: 768px) {
    .desktop-nav {
      display: flex;
      gap: 1rem;
    }
  }

  @media (min-width: 1024px) {
    .desktop-nav {
      gap: 1.5rem;
    }
  }

  /* Shadcn-inspired nav link hover effect */
  .nav-link {
    position: relative;
    padding: 0.625rem 1.25rem;
    font-size: 0.9375rem;
  }

  @media (min-width: 1024px) {
    .nav-link {
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
    }
  }

  .nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 1px;
    background: currentColor;
    transition: width 0.3s ease;
  }

  .nav-link:hover::after {
    width: 60%;
  }

  /* Mobile menu spacing */
  .mobile-menu-container {
    padding: 1.5rem 2.5rem;
  }

  @media (min-width: 640px) {
    .mobile-menu-container {
      padding: 2rem 3rem;
    }
  }

  .mobile-nav-link {
    padding: 1rem 1.25rem;
    font-size: 1rem;
  }

  /* Mobile menu animations */
  #mobile-menu {
    animation: slideDown 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }

  #mobile-menu.closing {
    animation: slideUp 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideUp {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  }

  /* Touch improvements */
  @media (max-width: 767px) {
    .mobile-nav-link {
      min-height: 48px; /* Better touch targets */
      display: flex;
      align-items: center;
    }

    #mobile-menu-button {
      min-width: 48px;
      min-height: 48px;
    }
  }
</style>
