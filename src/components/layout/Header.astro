---
// Shadcn-inspired Minimal Header with Zen Aesthetic
---

<header
  id="header"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b border-transparent"
  style="background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);"
>
  <nav class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <!-- Logo / Site Name with Zen Circle -->
    <a
      href="#hero"
      class="flex items-center gap-3 text-stone-900 hover:text-stone-700 transition-colors group"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="opacity-80 group-hover:opacity-100 transition-opacity">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5" opacity="0.6"/>
      </svg>
      <span class="font-light text-lg tracking-[0.15em] uppercase">Kwan Um</span>
    </a>

    <!-- Desktop Navigation -->
    <div class="hidden md:flex items-center gap-1">
      <a
        href="#practice-info"
        class="nav-link px-4 py-2 text-sm font-light text-stone-600 hover:text-stone-900 transition-colors relative"
      >
        Prax
      </a>
      <a
        href="#lineage"
        class="nav-link px-4 py-2 text-sm font-light text-stone-600 hover:text-stone-900 transition-colors relative"
      >
        O nás
      </a>
      <a
        href="#connect"
        class="nav-link px-4 py-2 text-sm font-light text-stone-600 hover:text-stone-900 transition-colors relative"
      >
        Kontakt
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-button"
      class="md:hidden p-2 text-stone-600 hover:text-stone-900 transition-colors"
      aria-label="Toggle menu"
    >
      <svg id="menu-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
      <svg id="close-icon" class="hidden" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </nav>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden border-t border-stone-200/50 bg-white/95 backdrop-blur-sm"
  >
    <nav class="px-6 py-4 flex flex-col gap-1">
      <a
        href="#practice-info"
        class="mobile-nav-link px-4 py-3 text-sm font-light text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-md transition-colors"
      >
        Prax
      </a>
      <a
        href="#lineage"
        class="mobile-nav-link px-4 py-3 text-sm font-light text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-md transition-colors"
      >
        O nás
      </a>
      <a
        href="#connect"
        class="mobile-nav-link px-4 py-3 text-sm font-light text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-md transition-colors"
      >
        Kontakt
      </a>
    </nav>
  </div>
</header>

<!-- Enhanced Navigation Script -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const header = document.getElementById('header');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');
    const allNavLinks = document.querySelectorAll('a[href^="#"]');

    // Mobile menu toggle
    mobileMenuButton?.addEventListener('click', () => {
      const isOpen = !mobileMenu?.classList.contains('hidden');

      if (isOpen) {
        mobileMenu?.classList.add('hidden');
        menuIcon?.classList.remove('hidden');
        closeIcon?.classList.add('hidden');
      } else {
        mobileMenu?.classList.remove('hidden');
        menuIcon?.classList.add('hidden');
        closeIcon?.classList.remove('hidden');
      }
    });

    // Smooth scroll for all anchor links
    allNavLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href');
        if (!targetId || targetId === '#') return;

        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });

          // Close mobile menu after clicking
          mobileMenu?.classList.add('hidden');
          menuIcon?.classList.remove('hidden');
          closeIcon?.classList.add('hidden');
        }
      });
    });

    // Add border and shadow on scroll (shadcn style)
    let lastScroll = 0;

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;

      if (currentScroll > 50) {
        header?.classList.remove('border-transparent');
        header?.classList.add('border-stone-200/60');
        if (header) {
          header.style.boxShadow = '0 1px 2px 0 rgba(0, 0, 0, 0.03)';
        }
      } else {
        header?.classList.add('border-transparent');
        header?.classList.remove('border-stone-200/60');
        if (header) {
          header.style.boxShadow = 'none';
        }
      }

      lastScroll = currentScroll;
    });
  });
</script>

<style>
  /* Ensure smooth scrolling for the whole page */
  :global(html) {
    scroll-behavior: smooth;
  }

  /* Add offset for fixed header when scrolling to sections */
  :global(section) {
    scroll-margin-top: 80px;
  }

  /* Shadcn-inspired nav link hover effect */
  .nav-link {
    position: relative;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 1px;
    background: currentColor;
    transition: width 0.3s ease;
  }

  .nav-link:hover::after {
    width: 60%;
  }

  /* Mobile menu slide animation */
  #mobile-menu {
    animation: slideDown 0.2s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
